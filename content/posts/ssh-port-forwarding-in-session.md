---
title: "SSHセッション中にポートフォワーディングする"
date: 2021-10-01T20:13:54+09:00
draft: false
---

SSH接続中にポートフォワーディングする方法をメモしておく。
基本的には、 `man ssh` してでてくる内容の、 `ESCAPE CHARACTERS` のセクションを読めばいい。

## 基本的な手順

SSH接続中のターミナルの画面で以下の操作を行う。

1. `~C` と入力し、SSHのコマンドラインを開く。
    - 注意点
        + `~C` の直前にenterを入力していないとだめっぽい
        + 入力の途中にバックスペースとかも押しちゃだめ。間違ったらもう一度最初から入力する。
2. `ssh` コマンドで指定するような、ポートフォワーディングのコマンドライン引数を指定する。
    - 例: `-L 8929:192.168.123.456:8931`
        + `localhost:8929` にアクセスると、 `192.168.123.456:8931` にポートフォワーディングされる。
        + 同様に `-R` や `-D` も、SSHのコマンドラインから使える。
        + すでに `-L` で指定した内容をキャンセルするには `-KL {ポート番号}` を指定する。

以上

## 注意点

* SSHの設定によっては動かないかも？ちゃんと `man` のページを確認すべし

## 参考

* `man ssh` の内容: https://linux.die.net/man/1/ssh
