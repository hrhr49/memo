<!doctype html><html lang=ja-jp><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=5"><title>Flaskアプリを簡単に本番環境 | hrhr49 blog</title><meta name=description content="Flaskのアプリを簡単に本番環境で動かす方法を探していたとき、 waitress なるツールを知ったのでメモ どうやら、Flaskのページでも紹介されているツ"><meta name=generator content="Hugo 0.74.2"><link rel=canonical href=https://hrhr49.github.io/memo/posts/flask_deploy/><link rel=stylesheet href=https://hrhr49.github.io/memo//css/style.css><link rel=stylesheet href=https://hrhr49.github.io/memo//css/syntax.css><link rel=stylesheet href=https://hrhr49.github.io/memo//css/custom.css></head><body><header class=container><div class=row><a href=https://hrhr49.github.io/memo/><h1 class=logo>hrhr49 blog</h1></a></div><div class=row><ul><li style=display:inline-block;padding:5px><a href=/memo/categories/>Categories</a></li><li style=display:inline-block;padding:5px><a href=/memo/search/>Search</a></li><li style=display:inline-block;padding:5px><a href=/memo/tags/>Tags</a></li></ul></div></header><div id=content><div class=container><div class="post paper"><h1 class=page-title>Flaskアプリを簡単に本番環境</h1><div class=date>2021-08-07</div><p>Flaskのアプリを簡単に本番環境で動かす方法を探していたとき、
<code>waitress</code> なるツールを知ったのでメモ</p><p>どうやら、Flaskのページでも紹介されているツールみたい
<a href=https://msiz07-flask-docs-ja.readthedocs.io/ja/latest/tutorial/deploy.html>https://msiz07-flask-docs-ja.readthedocs.io/ja/latest/tutorial/deploy.html</a></p><p>例えば、以下のflaskアプリを動かすとする。(ファイル名は <code>my_app.py</code> とする)</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=ln>1</span><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span>
<span class=ln>2</span>
<span class=ln>3</span><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
<span class=ln>4</span>
<span class=ln>5</span><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>)</span>
<span class=ln>6</span><span class=k>def</span> <span class=nf>hello</span><span class=p>():</span>
<span class=ln>7</span>    <span class=k>return</span> <span class=s1>&#39;hello&#39;</span>
</code></pre></div><p>NOTE: waitressはFlask専用ではないので、他のフレームワークとかでも良いいと思う</p><p><code>waitress</code> のインストールと実行</p><p>インストールは以下の通り</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=ln>1</span>pip install waitress
</code></pre></div><p>先程の <code>myapp.py</code> の中の <code>app</code> を実行する場合は以下のコマンドを実行する。</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=ln>1</span><span class=c1># ポート 54321でサーバーを立てる場合</span>
<span class=ln>2</span>waitress-serve --port <span class=m>54321</span> myapp:app
</code></pre></div><br>Categories:</div></div></div><hr><footer class=container><div class=copyright>Copyright © hrhr49; all rights reserved.</div></footer></body></html>